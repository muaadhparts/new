{
  "permissions": {
    "allow": [
      "Bash(git grep:*)",
      "Bash(echo:*)",
      "Bash(npm run dev)",
      "Bash(php artisan:*)",
      "Bash(curl:*)",
      "Bash(php -r:*)",
      "Bash(git commit:*)",
      "Bash(php -l:*)",
      "Bash(find:*)",
      "Bash(comm -23:*)",
      "Bash(comm:*)",
      "Bash(php regenerate_theme_css.php:*)",
      "Bash(npm install)",
      "Bash(npx playwright install chromium)",
      "Bash(node run-all-presets.js:*)",
      "Bash(sort:*)",
      "Bash(grep:*)",
      "Bash(node:*)",
      "Bash(php check_city.php:*)",
      "Bash(php test_tryoto_api.php:*)",
      "Bash(git push:*)",
      "Bash(php populate_vendor_credentials.php:*)",
      "Bash(php:*)",
      "Bash(powershell:*)",
      "WebFetch(domain:new.test)",
      "Bash(del:*)",
      "Bash(mysql:*)",
      "Bash(git mv:*)",
      "Bash(git rm:*)",
      "Bash(copy:*)",
      "Bash(python:*)",
      "Bash(cat:*)",
      "Bash(php artisan tinker:*)",
      "Bash(dir:*)",
      "Bash(ren:*)",
      "Bash(findstr:*)",
      "Bash(composer dump-autoload:*)",
      "WebFetch(domain:oldnew.test)",
      "Bash(cd:*)",
      "Bash(git add:*)",
      "Bash(if not exist \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\database\\\\schema\" mkdir \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\database\\\\schema\")",
      "Bash(Get-Content \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\storage\\\\logs\\\\laravel.log\" -Tail 100)",
      "Bash(if not exist \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\operator\\\\merchant-commission\" mkdir \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\operator\\\\merchant-commission\")",
      "Bash(herd secure:*)",
      "Bash(herd restart:*)",
      "Bash(mkdir:*)",
      "Bash(composer require:*)",
      "Bash(composer show:*)",
      "Bash(ls:*)",
      "Bash(for f in app/Http/Controllers/Payment/Checkout/*.php)",
      "Bash(do php -l \"$f\")",
      "Bash(done)",
      "Bash(if not exist \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\merchant\\\\checkout\" mkdir \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\merchant\\\\checkout\")",
      "Bash(courier)",
      "Bash(shipment \")",
      "Bash(git checkout:*)",
      "WebFetch(domain:api.tryoto.com)",
      "WebSearch",
      "WebFetch(domain:apis.tryoto.com)",
      "WebFetch(domain:help.tryoto.com)",
      "WebFetch(domain:github.com)",
      "Bash(git -C \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\" log --all --decorate --oneline)",
      "Bash(git -C \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\" branch -a)",
      "Bash(wc -l:*)",
      "Bash(xargs:*)",
      "Bash(rg:*)",
      "Bash(move:*)",
      "Bash(1 <<'TINKER_EOF'\necho \"=== تتبع مصدر المدن في Checkout Shipping ===\\\\n\\\\n\";\n\n$merchantId = 2;\n\n// 1. Customer City - from session \\(saved in Step 1: Address\\)\necho \"1. مدينة العميل \\(من Session\\):\\\\n\";\n$addressKey = \"checkout.merchant.{$merchantId}.address\";\n$addressData = Session::get\\($addressKey\\);\n\nif \\($addressData\\) {\n    echo \"   customer_city: \" . \\($addressData['customer_city'] ?? 'N/A'\\) . \"\\\\n\";\n    echo \"   city_id: \" . \\($addressData['city_id'] ?? 'N/A'\\) . \"\\\\n\";\n    echo \"   latitude: \" . \\($addressData['latitude'] ?? 'N/A'\\) . \"\\\\n\";\n    echo \"   longitude: \" . \\($addressData['longitude'] ?? 'N/A'\\) . \"\\\\n\";\n} else {\n    echo \"   ❌ لا توجد بيانات في Session\\\\n\";\n}\n\n// 2. Merchant City - from ShippingCalculatorService\necho \"\\\\n2. مدينة التاجر \\(من قاعدة البيانات\\):\\\\n\";\n$merchantCityData = \\\\App\\\\Services\\\\ShippingCalculatorService::getMerchantCity\\($merchantId\\);\nprint_r\\($merchantCityData\\);\n\n// 3. Show merchant's city_id in users table\necho \"\\\\n3. بيانات التاجر في جدول users:\\\\n\";\n$merchant = DB::table\\('users'\\)->where\\('id', $merchantId\\)->first\\(['id', 'name', 'shop_name', 'city', 'city_id']\\);\nif \\($merchant\\) {\n    echo \"   id: {$merchant->id}\\\\n\";\n    echo \"   shop_name: {$merchant->shop_name}\\\\n\";\n    echo \"   city: {$merchant->city}\\\\n\";\n    echo \"   city_id: {$merchant->city_id}\\\\n\";\n}\nTINKER_EOF)",
      "Bash(1 <<'TINKER_EOF'\necho \"=== ماذا يحدث عندما تكون المدينة غير مدعومة؟ ===\\\\n\\\\n\";\n\necho \"┌─────────────────────────────────────────────────────────────────┐\\\\n\";\necho \"│          TryotoLocationService::resolveMapCity\\(\\)               │\\\\n\";\necho \"│                    \\(4 خطوات Fallback\\)                          │\\\\n\";\necho \"└─────────────────────────────────────────────────────────────────┘\\\\n\\\\n\";\n\necho \"الخطوة 1️⃣ : البحث عن المدينة بالاسم\\\\n\";\necho \"───────────────────────────────────\\\\n\";\necho \"مثال: Google Maps يرجع 'Al Khobar'\\\\n\";\necho \"  → البحث في جدول cities WHERE city_name = 'Al Khobar'\\\\n\";\necho \"  → إذا وُجدت ✅ → استخدمها\\\\n\";\necho \"  → إذا لم توجد → الخطوة 2\\\\n\\\\n\";\n\necho \"الخطوة 2️⃣ : البحث عن State/المنطقة\\\\n\";\necho \"───────────────────────────────────\\\\n\";\necho \"مثال: Google Maps يرجع state = 'Eastern Province'\\\\n\";\necho \"  → البحث في cities WHERE city_name = 'Eastern Province'\\\\n\";\necho \"  → أو البحث المرن \\(LIKE, Al-Eastern, الخ\\)\\\\n\";\necho \"  → إذا وُجدت ✅ → استخدمها مع رسالة تحذير\\\\n\";\necho \"  → إذا لم توجد → الخطوة 3\\\\n\\\\n\";\n\necho \"الخطوة 3️⃣ : أقرب مدينة مدعومة \\(في نفس الدولة\\)\\\\n\";\necho \"───────────────────────────────────────────\\\\n\";\necho \"  → حساب المسافة بين موقع العميل وكل المدن المدعومة\\\\n\";\necho \"  → استخدام صيغة Haversine للمسافة\\\\n\";\necho \"  → الحد الأقصى: 150 كم\\\\n\";\necho \"  → إذا وُجدت مدينة ≤ 150 كم ✅ → استخدمها مع رسالة\\\\n\";\necho \"  → إذا لم توجد → الخطوة 4\\\\n\\\\n\";\n\necho \"الخطوة 4️⃣ : أقرب مدينة \\(عالمياً\\)\\\\n\";\necho \"─────────────────────────────────\\\\n\";\necho \"  → resolveByCoordinatesOnly\\(\\)\\\\n\";\necho \"  → البحث في كل الدول\\\\n\";\necho \"  → الحد الأقصى: 150 كم\\\\n\";\necho \"  → إذا وُجدت ✅ → استخدمها\\\\n\";\necho \"  → إذا لم توجد ❌ → رفض الطلب\\\\n\\\\n\";\n\necho \"┌─────────────────────────────────────────────────────────────────┐\\\\n\";\necho \"│                     الحد الأقصى للمسافة                          │\\\\n\";\necho \"│                      MAX_DISTANCE_KM = 150                       │\\\\n\";\necho \"│                                                                  │\\\\n\";\necho \"│    إذا كانت أقرب مدينة أبعد من 150 كم → يُرفض الطلب             │\\\\n\";\necho \"└─────────────────────────────────────────────────────────────────┘\\\\n\";\nTINKER_EOF)",
      "Bash(Get-Content \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\storage\\\\logs\\\\laravel.log\" -Tail 200)",
      "Bash(Select-String \"catalog_id\" -Context 3,3)",
      "Bash(more:*)",
      "Bash(test:*)",
      "Bash(if not exist \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\frontend\\\\partials\" mkdir \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\frontend\\\\partials\")",
      "Bash(npm run build:*)",
      "Bash(for file in resources/views/load/*.blade.php)",
      "Bash(do basename:*)",
      "Bash(while read f)",
      "Bash(do grep -q \"$f\" \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\layouts\\\\front.blade.php\" \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\layouts\\\\merchant.blade.php\" \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\catalog\\\\illustrations.blade.php\")",
      "Bash(git log:*)",
      "Bash(if exist \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\operator\\\\frontend-setting\\\\page_banner.blade.php\" del \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\operator\\\\frontend-setting\\\\page_banner.blade.php\")",
      "Bash(if exist \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\operator\\\\frontend-setting\\\\right_banner.blade.php\" del \"C:\\\\Users\\\\hp\\\\Herd\\\\oldnew\\\\resources\\\\views\\\\operator\\\\frontend-setting\\\\right_banner.blade.php\")",
      "Bash(for table in announcements testimonials publications static_content home_page_themes frontend_settings seotools typefaces connect_configs languages mailing_list help_articles article_types muaadhsettings settings)",
      "Bash(do echo -n \"$table: \")",
      "Bash(for file in resources/views/courier/dashbaord.blade.php resources/views/courier/add_service.blade.php resources/views/courier/edit_service.blade.php resources/views/courier/financial_report.blade.php resources/views/courier/orders.blade.php resources/views/courier/profile.blade.php resources/views/courier/purchase_details.blade.php resources/views/courier/reset.blade.php resources/views/courier/service-area.blade.php resources/views/courier/settlements.blade.php resources/views/courier/transactions.blade.php resources/views/courier/withdraw/index.blade.php resources/views/courier/withdraw/withdraw.blade.php)",
      "Bash(do sed -i \"s/@extends\\(''layouts.front''\\)/@extends\\(''layouts.courier''\\)/\" \"$file\")",
      "Bash(for file in resources/views/courier/login.blade.php resources/views/courier/register.blade.php resources/views/courier/forgot.blade.php)",
      "Bash(for table in abuse_flags account_balances account_parties accounting_ledger api_credentials brand_regions brands buyer_notes callouts catalog_events catalog_item_code_mappings catalog_item_fitments catalog_items catalog_reviews catalogs category_periods category_spec_group_items category_spec_groups chat_entries chat_threads cities comms_blueprints countries courier_service_areas couriers delivery_couriers failed_jobs favorite_sellers frontend_settings home_page_themes illustrations languages mailing_list merchant_branches merchant_commissions merchant_credentials merchant_items merchant_payments merchant_photos merchant_purchases merchant_settings merchant_stock_updates merchant_tax_settings migrations modules monetary_units network_presences newcategories nissan_credentials note_responses oauth_accounts operator_roles operators pages part_periods_r50gl part_spec_group_items_r50gl part_spec_groups_r50gl parts_r50gl parts_y61gl platform_revenue_log platform_settings purchase_timelines purchases quality_brands referral_commissions section_parts_r50gl section_parts_y61gl sections settings settlement_batches shipment_trackings shippings sku_alternatives spec_values specification_items specifications specs stock_reservations support_messages support_threads telescope_entries telescope_entries_tags telescope_monitoring token_logs tokens trust_badges user_catalog_events users vin_catalog_log vin_decoded_cache vin_models vin_spec_attributes vin_spec_mapped vin_spec_to_spec_item withdraws)",
      "Bash(do)"
    ]
  }
}
