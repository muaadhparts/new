/*!
 * MUAADH Design System v1.0.0
 * ===========================
 * Single source of truth for all UI components.
 *
 * RULES:
 * 1. ALL new styles go here (not style.css)
 * 2. Use semantic tokens (--action-*, --surface-*)
 * 3. Follow BEM naming: m-{block}__{element}--{modifier}
 * 4. NO hardcoded colors - use variables only
 * 5. NO !important unless overriding Bootstrap
 */

/* ============================================================================
   SECTION 1: SEMANTIC TOKENS
   ============================================================================
   Map theme variables to semantic meaning.
   This allows changing the "meaning" without touching components.
   ============================================================================ */

:root {
    /* ----- Action Colors ----- */
    /* Use these for interactive elements */
    --action-primary: var(--theme-primary);
    --action-primary-hover: var(--theme-primary-hover);
    --action-primary-active: var(--theme-primary-dark);
    --action-primary-light: var(--theme-primary-light);

    --action-secondary: var(--theme-secondary);
    --action-secondary-hover: var(--theme-secondary-hover);

    --action-danger: var(--theme-danger);
    --action-danger-hover: var(--theme-danger-hover);
    --action-danger-light: var(--theme-danger-light);

    --action-success: var(--theme-success);
    --action-success-hover: var(--theme-success-hover);
    --action-success-light: var(--theme-success-light);

    --action-warning: var(--theme-warning);
    --action-warning-hover: var(--theme-warning-hover);
    --action-warning-light: var(--theme-warning-light);

    --action-info: var(--theme-info);
    --action-info-hover: var(--theme-info-hover);
    --action-info-light: var(--theme-info-light);

    /* ----- Surface Colors ----- */
    /* Use these for backgrounds */
    --surface-page: var(--theme-bg-body);
    --surface-card: var(--theme-card-bg);
    --surface-elevated: var(--theme-bg-light);
    --surface-sunken: var(--theme-bg-gray);
    --surface-secondary: var(--theme-secondary-light);
    --surface-inverse: var(--theme-bg-dark);
    --surface-overlay: rgba(0, 0, 0, 0.5);

    /* ----- Text Colors ----- */
    --text-body: var(--theme-text-primary);
    --text-primary: var(--theme-text-primary);
    --text-secondary: var(--theme-text-secondary);
    --text-muted: var(--theme-text-muted);
    /* WCAG-safe muted text for use on gray backgrounds (4.5:1 minimum) */
    --text-muted-safe: var(--theme-text-secondary);
    --text-inverse: var(--theme-text-white);
    --text-link: var(--theme-link);
    --text-link-hover: var(--theme-link-hover);

    /* ----- Text On Colors (WCAG Contrast Safe) ----- */
    /* Source of truth: theme-colors.css (auto-calculated from Theme Builder) */
    /* muaadh-system.css = consumption only, no fallbacks */
    --text-on-primary: var(--theme-text-on-primary);
    --text-on-secondary: var(--theme-text-on-secondary);
    --text-on-success: var(--theme-text-on-success);
    --text-on-danger: var(--theme-text-on-danger);
    --text-on-warning: var(--theme-text-on-warning);
    --text-on-info: var(--theme-text-on-info);
    --text-on-dark: var(--theme-text-on-dark);
    --text-on-light: var(--theme-text-on-light);

    /* ----- Border Colors ----- */
    --border-default: var(--theme-border);
    --border-color: var(--theme-border);
    --border-light: var(--theme-border-light);
    --border-strong: var(--theme-border-dark);
    --border-focus: var(--theme-primary);

    /* ----- Component Tokens ----- */
    --radius-sm: var(--theme-radius-sm, 4px);
    --radius-md: var(--theme-radius, 8px);
    --radius-lg: var(--theme-radius-lg, 12px);
    --radius-xl: var(--theme-radius-xl, 16px);
    --radius-full: var(--theme-radius-pill, 9999px);

    --shadow-sm: var(--theme-shadow-sm);
    --shadow-md: var(--theme-shadow);
    --shadow-lg: var(--theme-shadow-lg);
    --shadow-xl: var(--theme-shadow-xl);

    /* ----- Focus Ring ----- */
    --focus-ring: 0 0 0 3px rgba(var(--theme-primary-rgb), 0.2);
    --focus-ring-danger: 0 0 0 3px rgba(var(--theme-danger-rgb), 0.1);
    --focus-ring-success: 0 0 0 3px rgba(var(--theme-success-rgb), 0.1);

    /* ----- Button Shadows ----- */
    --btn-shadow-hover: 0 4px 12px rgba(var(--theme-primary-rgb), 0.3);

    --transition-fast: 0.15s ease;
    --transition-normal: 0.3s ease;
    --transition-slow: 0.5s ease;

    /* ----- Spacing Scale ----- */
    --space-1: 0.25rem;  /* 4px */
    --space-2: 0.5rem;   /* 8px */
    --space-3: 0.75rem;  /* 12px */
    --space-4: 1rem;     /* 16px */
    --space-5: 1.25rem;  /* 20px */
    --space-6: 1.5rem;   /* 24px */
    --space-8: 2rem;     /* 32px */
    --space-10: 2.5rem;  /* 40px */
    --space-12: 3rem;    /* 48px */

    /* ----- Typography Scale ----- */
    --text-xs: 0.75rem;   /* 12px */
    --text-sm: 0.875rem;  /* 14px */
    --text-base: 1rem;    /* 16px */
    --text-lg: 1.125rem;  /* 18px */
    --text-xl: 1.25rem;   /* 20px */
    --text-2xl: 1.5rem;   /* 24px */
    --text-3xl: 1.875rem; /* 30px */
    --text-4xl: 2.25rem;  /* 36px */
}

/* ============================================================================
   SECTION 2: BASE BUTTON COMPONENT
   ============================================================================ */

/* Base Button */
.m-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    min-height: 40px;
    padding: 0 var(--space-4);
    font-family: inherit;
    font-size: var(--text-sm);
    font-weight: 500;
    line-height: 1.2;
    text-align: center;
    text-decoration: none;
    white-space: nowrap;
    vertical-align: middle;
    cursor: pointer;
    user-select: none;
    border: 1px solid transparent;
    border-radius: var(--radius-md);
    background-color: transparent;
    color: var(--text-body);
    transition: all var(--transition-fast);
    outline: none;
}

.m-btn:hover {
    text-decoration: none;
}

.m-btn:focus,
.m-btn:focus-visible {
    outline: none;
    box-shadow: var(--focus-ring);
}

.m-btn:disabled,
.m-btn.is-disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

/* ----- Button Variants ----- */

/* Primary - Main action */
/* Using --text-on-* for WCAG contrast safety */
.m-btn--primary {
    background-color: var(--action-primary);
    border-color: var(--action-primary);
    color: var(--text-on-primary);
}
.m-btn--primary:hover {
    background-color: var(--action-primary-hover);
    border-color: var(--action-primary-hover);
    color: var(--text-on-primary);
}
.m-btn--primary:active {
    background-color: var(--action-primary-active);
    border-color: var(--action-primary-active);
}

/* Secondary */
.m-btn--secondary {
    background-color: var(--action-secondary);
    border-color: var(--action-secondary);
    color: var(--text-on-secondary);
}
.m-btn--secondary:hover {
    background-color: var(--action-secondary-hover);
    border-color: var(--action-secondary-hover);
    color: var(--text-on-secondary);
}

/* Danger - Destructive actions (Delete, Remove) */
.m-btn--danger {
    background-color: var(--action-danger);
    border-color: var(--action-danger);
    color: var(--text-on-danger);
}
.m-btn--danger:hover {
    background-color: var(--action-danger-hover);
    border-color: var(--action-danger-hover);
    color: var(--text-on-danger);
}

/* Success - Positive actions (Approve, Complete) */
.m-btn--success {
    background-color: var(--action-success);
    border-color: var(--action-success);
    color: var(--text-on-success);
}
.m-btn--success:hover {
    background-color: var(--action-success-hover);
    border-color: var(--action-success-hover);
    color: var(--text-on-success);
}

/* Warning - Caution actions */
.m-btn--warning {
    background-color: var(--action-warning);
    border-color: var(--action-warning);
    color: var(--text-on-warning);
}
.m-btn--warning:hover {
    background-color: var(--action-warning-hover);
    border-color: var(--action-warning-hover);
}

/* Info */
.m-btn--info {
    background-color: var(--action-info);
    border-color: var(--action-info);
    color: var(--text-on-info);
}
.m-btn--info:hover {
    background-color: var(--action-info-hover);
    border-color: var(--action-info-hover);
}

/* Ghost - Transparent background */
.m-btn--ghost {
    background-color: transparent;
    border-color: var(--border-default);
    color: var(--text-body);
}
.m-btn--ghost:hover {
    background-color: var(--surface-elevated);
    border-color: var(--border-strong);
}

/* Link - Looks like a link */
.m-btn--link {
    background-color: transparent;
    border-color: transparent;
    color: var(--text-link);
    padding-left: 0;
    padding-right: 0;
}
.m-btn--link:hover {
    color: var(--text-link-hover);
    text-decoration: underline;
}

/* ----- Outline Variants ----- */

.m-btn--outline-primary {
    background-color: transparent;
    border-color: var(--action-primary);
    color: var(--action-primary);
}
.m-btn--outline-primary:hover {
    background-color: var(--action-primary);
    color: var(--text-inverse);
}

.m-btn--outline-danger {
    background-color: transparent;
    border-color: var(--action-danger);
    color: var(--action-danger);
}
.m-btn--outline-danger:hover {
    background-color: var(--action-danger);
    color: var(--text-inverse);
}

.m-btn--outline-success {
    background-color: transparent;
    border-color: var(--action-success);
    color: var(--action-success);
}
.m-btn--outline-success:hover {
    background-color: var(--action-success);
    color: var(--text-inverse);
}

/* ----- Button Sizes ----- */

.m-btn--xs {
    min-height: 28px;
    padding: 0 var(--space-2);
    font-size: var(--text-xs);
    border-radius: var(--radius-sm);
}

.m-btn--sm {
    min-height: 32px;
    padding: 0 var(--space-3);
    font-size: var(--text-xs);
}

.m-btn--lg {
    min-height: 48px;
    padding: 0 var(--space-6);
    font-size: var(--text-base);
}

.m-btn--xl {
    min-height: 56px;
    padding: 0 var(--space-8);
    font-size: var(--text-lg);
    border-radius: var(--radius-lg);
}

/* ----- Button Modifiers ----- */

.m-btn--block {
    display: flex;
    width: 100%;
}

.m-btn--rounded {
    border-radius: var(--radius-full);
}

.m-btn--icon {
    width: 40px;
    padding: 0;
}
.m-btn--icon.m-btn--sm { width: 32px; }
.m-btn--icon.m-btn--lg { width: 48px; }
.m-btn--icon.m-btn--xs { width: 28px; }

/* ============================================================================
   SECTION 3: BADGE COMPONENT
   ============================================================================ */

.m-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-1) var(--space-3);
    font-size: var(--text-xs);
    font-weight: 600;
    line-height: 1.2;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    border-radius: var(--radius-full);
    white-space: nowrap;
}

/* Status Badges */
.m-badge--pending {
    background-color: var(--action-warning-light);
    color: var(--action-warning-hover);
}

.m-badge--processing {
    background-color: var(--action-info-light);
    color: var(--action-info-hover);
}

.m-badge--completed,
.m-badge--success {
    background-color: var(--action-success-light);
    color: var(--action-success-hover);
}

.m-badge--cancelled,
.m-badge--danger {
    background-color: var(--action-danger-light);
    color: var(--action-danger-hover);
}

.m-badge--paid {
    background-color: var(--action-success-light);
    color: var(--action-success-hover);
}

.m-badge--shipped {
    background-color: var(--action-info-light);
    color: var(--action-info-hover);
}

.m-badge--delivered {
    background-color: var(--action-success-light);
    color: var(--action-success-hover);
}

.m-badge--refunded {
    background-color: var(--action-warning-light);
    color: var(--action-warning-hover);
}

/* Solid Badges */
.m-badge--primary {
    background-color: var(--action-primary);
    color: var(--text-inverse);
}

.m-badge--secondary {
    background-color: var(--action-secondary);
    color: var(--text-inverse);
}

/* Badge Sizes */
.m-badge--sm {
    padding: 2px var(--space-2);
    font-size: 10px;
}

.m-badge--lg {
    padding: var(--space-2) var(--space-4);
    font-size: var(--text-sm);
}

/* ============================================================================
   SECTION 4: CARD COMPONENT
   ============================================================================ */

.m-card {
    background-color: var(--surface-card);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    overflow: hidden;
    transition: all var(--transition-normal);
}

.m-card:hover {
    border-color: var(--border-strong);
}

.m-card__header {
    padding: var(--space-4) var(--space-5);
    background-color: var(--surface-elevated);
    border-bottom: 1px solid var(--border-default);
}

.m-card__title {
    margin: 0;
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--text-body);
}

.m-card__body {
    padding: var(--space-5);
}

.m-card__footer {
    padding: var(--space-4) var(--space-5);
    background-color: var(--surface-elevated);
    border-top: 1px solid var(--border-default);
}

/* Card Variants */
.m-card--hoverable:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
}

.m-card--flat {
    border: none;
    box-shadow: var(--shadow-sm);
}

.m-card--outlined {
    background-color: transparent;
}

/* ============================================================================
   SECTION 5: PRODUCT CARD COMPONENT
   - NOTE: Moved to Section 50 for Modern Design. This section reserved for future use.
   ============================================================================ */

/* ============================================================================
   SECTION 6: FORM CONTROLS
   ============================================================================ */

.m-input {
    display: block;
    width: 100%;
    min-height: 42px;
    padding: var(--space-2) var(--space-3);
    font-family: inherit;
    font-size: var(--text-sm);
    font-weight: 400;
    line-height: 1.5;
    color: var(--text-body);
    background-color: var(--surface-card);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
    appearance: none;
}

.m-input:hover {
    border-color: var(--border-strong);
}

.m-input:focus {
    border-color: var(--border-focus);
    outline: none;
    box-shadow: var(--focus-ring);
}

.m-input::placeholder {
    color: var(--text-muted);
}

.m-input:disabled {
    background-color: var(--surface-elevated);
    opacity: 0.7;
    cursor: not-allowed;
}

/* Input Sizes */
.m-input--sm {
    min-height: 36px;
    padding: var(--space-1) var(--space-3);
    font-size: var(--text-xs);
}

.m-input--lg {
    min-height: 48px;
    padding: var(--space-3) var(--space-4);
    font-size: var(--text-base);
}

/* Input States */
.m-input--error {
    border-color: var(--action-danger);
}
.m-input--error:focus {
    box-shadow: var(--focus-ring-danger);
}

.m-input--success {
    border-color: var(--action-success);
}
.m-input--success:focus {
    box-shadow: var(--focus-ring-success);
}

/* ============================================================================
   SECTION 7: TABLE COMPONENT
   ============================================================================ */

.m-table {
    width: 100%;
    border-collapse: collapse;
    background-color: var(--surface-card);
}

.m-table thead th {
    padding: var(--space-3) var(--space-4);
    font-size: var(--text-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-body);
    background-color: var(--surface-elevated);
    border-bottom: 2px solid var(--border-default);
    text-align: left;
    white-space: nowrap;
}

[dir="rtl"] .m-table thead th {
    text-align: right;
}

.m-table tbody td {
    padding: var(--space-3) var(--space-4);
    font-size: var(--text-sm);
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border-light);
    vertical-align: middle;
}

.m-table tbody tr:hover {
    background-color: var(--surface-elevated);
}

.m-table tbody tr:last-child td {
    border-bottom: none;
}

/* Table Variants */
.m-table--striped tbody tr:nth-child(odd) {
    background-color: var(--surface-elevated);
}

.m-table--bordered {
    border: 1px solid var(--border-default);
}

.m-table--bordered th,
.m-table--bordered td {
    border: 1px solid var(--border-default);
}

/* ============================================================================
   SECTION 8: ALERT COMPONENT
   ============================================================================ */

.m-alert {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-md);
    font-size: var(--text-sm);
}

.m-alert__icon {
    flex-shrink: 0;
    font-size: var(--text-lg);
}

.m-alert__content {
    flex: 1;
}

.m-alert__title {
    margin: 0 0 var(--space-1);
    font-weight: 600;
}

.m-alert__text {
    margin: 0;
}

/* Alert Variants */
.m-alert--info {
    background-color: var(--action-info-light);
    color: var(--action-info-hover);
}

.m-alert--success {
    background-color: var(--action-success-light);
    color: var(--action-success-hover);
}

.m-alert--warning {
    background-color: var(--action-warning-light);
    color: var(--action-warning-hover);
}

.m-alert--danger {
    background-color: var(--action-danger-light);
    color: var(--action-danger-hover);
}

/* ============================================================================
   SECTION 9: UTILITY CLASSES
   ============================================================================ */

/* Text Colors */
.m-text-primary { color: var(--action-primary); }
.m-text-secondary { color: var(--text-secondary); }
.m-text-muted { color: var(--text-muted); }
.m-text-success { color: var(--action-success); }
.m-text-danger { color: var(--action-danger); }
.m-text-warning { color: var(--action-warning); }
.m-text-info { color: var(--action-info); }

/* Background Colors */
.m-bg-primary { background-color: var(--action-primary); }
.m-bg-surface { background-color: var(--surface-card); }
.m-bg-elevated { background-color: var(--surface-elevated); }
.m-bg-success-light { background-color: var(--action-success-light); }
.m-bg-danger-light { background-color: var(--action-danger-light); }
.m-bg-warning-light { background-color: var(--action-warning-light); }
.m-bg-info-light { background-color: var(--action-info-light); }

/* Border Utilities */
.m-border { border: 1px solid var(--border-default); }
.m-border-top { border-top: 1px solid var(--border-default); }
.m-border-bottom { border-bottom: 1px solid var(--border-default); }
.m-border-primary { border-color: var(--action-primary); }

/* Border Radius */
.m-rounded { border-radius: var(--radius-md); }
.m-rounded-sm { border-radius: var(--radius-sm); }
.m-rounded-lg { border-radius: var(--radius-lg); }
.m-rounded-full { border-radius: var(--radius-full); }

/* Shadows */
.m-shadow { box-shadow: var(--shadow-md); }
.m-shadow-sm { box-shadow: var(--shadow-sm); }
.m-shadow-lg { box-shadow: var(--shadow-lg); }
.m-shadow-none { box-shadow: none; }

/* Spacing (Padding) */
.m-p-0 { padding: 0; }
.m-p-1 { padding: var(--space-1); }
.m-p-2 { padding: var(--space-2); }
.m-p-3 { padding: var(--space-3); }
.m-p-4 { padding: var(--space-4); }
.m-p-5 { padding: var(--space-5); }
.m-p-6 { padding: var(--space-6); }

/* Spacing (Margin) */
.m-m-0 { margin: 0; }
.m-m-1 { margin: var(--space-1); }
.m-m-2 { margin: var(--space-2); }
.m-m-3 { margin: var(--space-3); }
.m-m-4 { margin: var(--space-4); }
.m-m-5 { margin: var(--space-5); }
.m-m-6 { margin: var(--space-6); }

.m-mb-0 { margin-bottom: 0; }
.m-mb-1 { margin-bottom: var(--space-1); }
.m-mb-2 { margin-bottom: var(--space-2); }
.m-mb-3 { margin-bottom: var(--space-3); }
.m-mb-4 { margin-bottom: var(--space-4); }

.m-mt-0 { margin-top: 0; }
.m-mt-1 { margin-top: var(--space-1); }
.m-mt-2 { margin-top: var(--space-2); }
.m-mt-3 { margin-top: var(--space-3); }
.m-mt-4 { margin-top: var(--space-4); }

/* Gap */
.m-gap-1 { gap: var(--space-1); }
.m-gap-2 { gap: var(--space-2); }
.m-gap-3 { gap: var(--space-3); }
.m-gap-4 { gap: var(--space-4); }

/* Display */
.m-flex { display: flex; }
.m-inline-flex { display: inline-flex; }
.m-grid { display: grid; }
.m-hidden { display: none; }

/* Flex Utilities */
.m-items-center { align-items: center; }
.m-items-start { align-items: flex-start; }
.m-items-end { align-items: flex-end; }
.m-justify-center { justify-content: center; }
.m-justify-between { justify-content: space-between; }
.m-justify-end { justify-content: flex-end; }
.m-flex-wrap { flex-wrap: wrap; }
.m-flex-col { flex-direction: column; }

/* Text Utilities */
.m-text-center { text-align: center; }
.m-text-left { text-align: left; }
.m-text-right { text-align: right; }
.m-font-bold { font-weight: 700; }
.m-font-medium { font-weight: 500; }
.m-font-normal { font-weight: 400; }
.m-text-sm { font-size: var(--text-sm); }
.m-text-lg { font-size: var(--text-lg); }
.m-text-xl { font-size: var(--text-xl); }
.m-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Width */
.m-w-full { width: 100%; }
.m-w-auto { width: auto; }

/* Cursor */
.m-cursor-pointer { cursor: pointer; }
.m-cursor-not-allowed { cursor: not-allowed; }

/* ============================================================================
   SECTION 10: RESPONSIVE UTILITIES
   ============================================================================ */

@media (max-width: 767.98px) {
    .m-hidden-mobile { display: none; }
    .m-btn--block-mobile { display: flex; width: 100%; }
}

@media (min-width: 768px) {
    .m-hidden-desktop { display: none; }
}

/* ============================================================================
   SECTION 11: ILLUSTRATION PAGE
   ============================================================================ */

/* Title - Auto-scale to fit container */
.illustration-title {
    font-size: clamp(0.9rem, 4vw, 1.25rem);
    font-weight: 700;
    line-height: 1.3;
    word-break: break-word;
    overflow-wrap: break-word;
}

/* Subtitle - Auto-scale and truncate if too long */
.illustration-subtitle {
    font-size: clamp(0.75rem, 3vw, 0.95rem);
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    word-break: break-word;
    overflow-wrap: break-word;
}

/* Mobile adjustments */
@media (max-width: 575.98px) {
    .illustration-title {
        font-size: clamp(0.85rem, 5vw, 1.1rem);
    }
    .illustration-subtitle {
        font-size: clamp(0.7rem, 3.5vw, 0.85rem);
        -webkit-line-clamp: 3;
    }
}

/* ============================================================================
   SECTION 50: PRODUCT CARD - MODERN DESIGN (m-product-card)
   ============================================================================ */

/* Card Container */
.m-product-card {
    background: var(--surface-card, #fff);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    transition: all 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.m-product-card:hover {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    transform: translateY(-4px);
}

/* Image Section */
.m-product-card__image {
    position: relative;
    aspect-ratio: 1 / 1;
    background: linear-gradient(135deg, var(--surface-elevated, #f8f9fa) 0%, var(--border-default, #e9ecef) 100%);
    overflow: hidden;
}

.m-product-card__image-link {
    display: block;
    width: 100%;
    height: 100%;
}

.m-product-card__img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center;
    padding: 16px;
    transition: opacity 0.3s ease, transform 0.4s ease;
    opacity: 0;
    visibility: hidden;
}

/* First image visible by default (fallback for :first-of-type) */
.m-product-card__img:first-of-type {
    opacity: 1;
    visibility: visible;
}

.m-product-card__img.active {
    opacity: 1;
    visibility: visible;
    z-index: 1;
}

/* Hide non-active images when there's an active one */
.m-product-card__image-link:has(.m-product-card__img.active) .m-product-card__img:not(.active) {
    opacity: 0;
    visibility: hidden;
    z-index: 0;
}

.m-product-card:hover .m-product-card__img.active {
    transform: scale(1.08);
}

/* Image Indicators */
.m-product-card__indicators {
    position: absolute;
    bottom: 12px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 6px;
    z-index: 3;
    padding: 4px 8px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.m-product-card__indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--border-default, #d1d5db);
    cursor: pointer;
    transition: all 0.2s ease;
}

.m-product-card__indicator:hover {
    background: var(--text-muted, #9ca3af);
}

.m-product-card__indicator.active {
    background: var(--action-primary, #7c3aed);
    width: 20px;
    border-radius: 4px;
}

/* Badges */
.m-product-card__badge {
    position: absolute;
    top: 12px;
    padding: 4px 10px;
    font-size: 12px;
    font-weight: 600;
    border-radius: 4px;
    z-index: 2;
}

.m-product-card__badge--discount {
    left: 12px;
    background: var(--action-danger, #dc3545);
    color: var(--text-inverse, #fff);
}

.m-product-card__badge--stock {
    left: 12px;
    top: auto;
    bottom: 12px;
    background: rgba(0, 0, 0, 0.7);
    color: var(--text-inverse, #fff);
}

/* RTL Badges */
[dir="rtl"] .m-product-card__badge--discount,
[dir="rtl"] .m-product-card__badge--stock {
    left: auto;
    right: 12px;
}

/* Wishlist Button */
.m-product-card__wishlist {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--surface-card, #fff);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 2;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    color: var(--text-muted, #666);
    text-decoration: none;
}

.m-product-card__wishlist:hover {
    background: var(--action-danger, #dc3545);
    color: var(--text-inverse, #fff);
    transform: scale(1.1);
}

.m-product-card__wishlist .fas.fa-heart {
    color: var(--action-danger, #dc3545);
}

.m-product-card__wishlist:hover .fas.fa-heart {
    color: var(--text-inverse, #fff);
}

/* RTL Wishlist */
[dir="rtl"] .m-product-card__wishlist {
    right: auto;
    left: 12px;
}

/* Quick Actions */
.m-product-card__actions {
    position: absolute;
    bottom: 12px;
    right: 12px;
    display: flex;
    gap: 8px;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s ease;
    z-index: 2;
}

.m-product-card:hover .m-product-card__actions {
    opacity: 1;
    transform: translateY(0);
}

.m-product-card__action {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--surface-card, #fff);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    color: var(--text-muted, #666);
    text-decoration: none;
    font-size: 14px;
}

.m-product-card__action:hover {
    background: var(--action-primary);
    color: var(--text-inverse, #fff);
}

/* RTL Actions */
[dir="rtl"] .m-product-card__actions {
    right: auto;
    left: 12px;
}

/* Content Section */
.m-product-card__content {
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    flex-grow: 1;
}

/* Product Title */
.m-product-card__title {
    font-size: 14px;
    font-weight: 600;
    line-height: 1.4;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    min-height: 40px;
}

.m-product-card__title a {
    color: var(--text-primary, #1f2937);
    text-decoration: none;
    transition: color 0.2s ease;
}

.m-product-card__title a:hover {
    color: var(--action-primary, #7c3aed);
}

/* Price */
.m-product-card__price {
    display: flex;
    align-items: baseline;
    gap: 8px;
    flex-wrap: wrap;
}

.m-product-card__price-current {
    font-size: 18px;
    font-weight: 700;
    color: var(--action-primary, #7c3aed);
}

.m-product-card__price-old {
    font-size: 14px;
    color: var(--text-muted);
    text-decoration: line-through;
}

/* Rating */
.m-product-card__rating {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 13px;
    color: var(--text-secondary);
}

.m-product-card__rating .fa-star {
    color: var(--action-warning);
}

.m-product-card__rating-count {
    color: var(--text-muted);
}

/* Add to Cart Button */
.m-product-card__cart-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    padding: 10px 16px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    background: var(--action-primary);
    color: var(--text-inverse);
    margin-top: auto;
    text-decoration: none;
}

.m-product-card__cart-btn:hover {
    background: var(--action-primary-hover);
    transform: translateY(-2px);
    box-shadow: var(--btn-shadow-hover);
}

.m-product-card__cart-btn--disabled {
    background: var(--border-default);
    color: var(--text-muted);
    cursor: not-allowed;
}

.m-product-card__cart-btn--disabled:hover {
    background: var(--border-default);
    transform: none;
    box-shadow: none;
}

/* Mobile Adjustments */
@media (max-width: 575.98px) {
    .m-product-card__content {
        padding: 12px;
    }

    .m-product-card__title {
        font-size: 13px;
        min-height: 36px;
    }

    .m-product-card__price-current {
        font-size: 16px;
    }

    .m-product-card__price-old {
        font-size: 12px;
    }

    .m-product-card__cart-btn {
        padding: 8px 12px;
        font-size: 13px;
    }

    .m-product-card__cart-btn span {
        display: none;
    }

    .m-product-card__cart-btn i {
        font-size: 16px;
    }

    .m-product-card__actions {
        opacity: 1;
        transform: translateY(0);
    }

    .m-product-card__badge {
        font-size: 11px;
        padding: 3px 8px;
    }

    .m-product-card__wishlist,
    .m-product-card__action {
        width: 32px;
        height: 32px;
        font-size: 12px;
    }
}

/* Tablet */
@media (min-width: 576px) and (max-width: 991.98px) {
    .m-product-card__content {
        padding: 14px;
    }
}

/* ============================================================================
   SECTION 50.1: LEGACY PRODUCT CARD FIXES (single-product)
   ============================================================================ */

/* Keep legacy card working */
.single-product .img-wrapper {
    position: relative;
    overflow: hidden;
    aspect-ratio: 1 / 1;
}

.single-product .img-wrapper .product-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center;
    background-color: var(--surface-elevated);
    transition: transform 0.3s ease;
}

.single-product:hover .img-wrapper .product-img {
    transform: scale(1.05);
}

/* RTL Support for legacy cards */
[dir="rtl"] .single-product .img-wrapper .product-badge {
    left: auto;
    right: 16px;
}

[dir="rtl"] .single-product .img-wrapper .add-to-wishlist-btn {
    right: auto;
    left: 16px;
}

/* ============================================================================
   SECTION 50.2: PRODUCT INFO COMPACT MODE
   ============================================================================ */

.product-info-compact {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    font-size: 11px;
}

.product-info-compact__item {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 2px 8px;
    background: var(--surface-sunken);
    border-radius: 4px;
    color: var(--text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
}

.product-info-compact__sku {
    font-family: monospace;
    font-size: 10px;
    background: var(--border-default);
    color: var(--text-secondary);
}

.product-info-compact__vendor {
    color: var(--action-success);
    background: var(--action-success-light);
}

.product-info-compact__vendor i {
    font-size: 10px;
}

.product-info-compact__quality {
    color: var(--action-primary);
    background: var(--color-primary-light);
}

.product-info-compact__logo {
    width: 14px;
    height: 14px;
    object-fit: contain;
    border-radius: 2px;
}

/* Mobile: Stack items vertically */
@media (max-width: 575.98px) {
    .product-info-compact {
        font-size: 10px;
        gap: 4px;
    }

    .product-info-compact__item {
        padding: 2px 6px;
    }
}

/* ============================================================================
   PAGE BACKGROUND SYSTEM - FINAL CONVENTION
   ============================================================================

   HIERARCHY (from outermost to innermost):
   ┌─────────────────────────────────────────────────────────────────────────────┐
   │  Level 1: PAGE WRAPPER (.m-page)                                            │
   │  ├── Full page background color                                             │
   │  │                                                                          │
   │  │  Level 2: SECTIONS (.m-page__section)                                    │
   │  │  ├── Transparent by default (inherits from page)                         │
   │  │  │                                                                       │
   │  │  │  Level 3: CARDS/CONTENT (.m-card, .m-content-box)                     │
   │  │  │  └── White/elevated backgrounds for content areas                     │
   │  └──┴───────────────────────────────────────────────────────────────────────┘

   USAGE:
   ┌─────────────────────────────────────────────────────────────────────────────┐
   │  <div class="m-page m-page--gray">        ← Gray background page            │
   │      <section class="m-page__section">   ← Transparent section              │
   │          <div class="container">                                            │
   │              <div class="m-card">         ← White card                       │
   │              </div>                                                         │
   │          </div>                                                             │
   │      </section>                                                             │
   │  </div>                                                                     │
   └─────────────────────────────────────────────────────────────────────────────┘

   VARIANTS:
   - .m-page--gray     → Gray background (default for most pages)
   - .m-page--white    → White background (for special pages)
   - .m-page--gradient → Gradient background (for landing pages)

   LEGACY SUPPORT:
   - .muaadh-page-wrapper .muaadh-section-gray → Maps to new system
   - .muaadh-section-gray → Still works on individual elements

   ============================================================================ */

/* ----- Level 1: Page Wrapper ----- */
.m-page {
    min-height: 100vh;
    padding-top: 1px; /* Prevent margin collapse */
    padding-bottom: 1px;
}

/* Page Background Variants */
.m-page--gray {
    background-color: var(--surface-sunken);
}

.m-page--white {
    background-color: var(--surface-page);
}

.m-page--gradient {
    background: linear-gradient(180deg,
        var(--surface-sunken) 0%,
        var(--surface-page) 100%);
}

/* ----- Level 2: Page Sections ----- */
.m-page__section {
    padding: 40px 0;
    background: transparent; /* Inherits from page */
}

.m-page__section--compact {
    padding: 24px 0;
}

.m-page__section--spacious {
    padding: 60px 0;
}

/* First section after breadcrumb - reduce top padding */
.m-page__section:first-child,
.m-page__section--no-top {
    padding-top: 24px;
}

/* ----- Level 3: Content Boxes ----- */
.m-content-box {
    background: var(--surface-card, #ffffff);
    border-radius: var(--radius-lg, 12px);
    box-shadow: var(--shadow-sm, 0 1px 3px rgba(0, 0, 0, 0.1));
    padding: var(--space-6, 24px);
}

.m-content-box--flat {
    box-shadow: none;
    border: 1px solid var(--border-light, #e5e7eb);
}

/* ----- LEGACY COMPATIBILITY (Backward Support) ----- */
/* These classes still work but prefer m-page system for new code */

.muaadh-page-wrapper {
    min-height: 100vh;
}

.muaadh-page-wrapper.muaadh-section-gray,
.muaadh-section-gray {
    background-color: var(--surface-sunken);
}

/* Make nested sections transparent when inside page wrapper */
.muaadh-page-wrapper .muaadh-section,
.muaadh-page-wrapper .muaadh-hero,
.m-page .muaadh-section,
.m-page .muaadh-hero {
    background: transparent;
}

/* Legacy section styling */
.muaadh-section {
    padding: 50px 0;
}

/* ----- Utility Classes ----- */
.m-bg-page {
    background-color: var(--surface-page, #ffffff) !important;
}

.m-bg-gray {
    background-color: var(--surface-sunken, #f3f4f6) !important;
}

.m-bg-card {
    background-color: var(--surface-card, #ffffff) !important;
}

.m-bg-elevated {
    background-color: var(--surface-elevated, #f9fafb) !important;
}

.m-bg-transparent {
    background-color: transparent !important;
}

/* ============================================================================
   VIEW TOGGLE BUTTONS (List/Grid)
   ============================================================================ */
.view-toggle-btns {
    display: flex;
    gap: 8px;
}

.view-toggle-btns .list-btn,
.view-toggle-btns .grid-btn {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid var(--border-color, #e5e7eb);
    border-radius: 8px;
    background: var(--surface-card, #fff);
    color: var(--text-muted, #6b7280);
    cursor: pointer;
    transition: all 0.2s ease;
}

.view-toggle-btns .list-btn:hover,
.view-toggle-btns .grid-btn:hover {
    border-color: var(--action-primary, #7c3aed);
    color: var(--action-primary, #7c3aed);
}

.view-toggle-btns .list-btn.active,
.view-toggle-btns .grid-btn.active {
    background: var(--action-primary, #7c3aed);
    border-color: var(--action-primary, #7c3aed);
    color: var(--text-inverse);
}

.view-toggle-btns svg {
    width: 18px;
    height: 18px;
}

/* ============================================================================
   SEARCH RESULTS HEADER
   ============================================================================ */
.muaadh-search-results-header {
    padding: 16px;
    background: var(--surface-card, #fff);
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.muaadh-search-results-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary, #1f2937);
    margin: 0;
}

.muaadh-search-results-title i {
    color: var(--action-primary, #7c3aed);
    margin-inline-end: 8px;
}

.muaadh-search-results-count {
    color: var(--action-primary, #7c3aed);
    font-weight: 700;
}

.muaadh-search-results-query {
    font-size: 0.9rem;
    color: var(--text-muted, #6b7280);
}

/* Mobile adjustments */
@media (max-width: 575.98px) {
    .muaadh-search-results-header {
        flex-direction: column;
        gap: 12px;
        align-items: flex-start !important;
    }

    .view-toggle-btns {
        width: 100%;
        justify-content: flex-end;
    }
}

/* ============================================================================
   UNIFIED CART BUTTON COMPONENT
   ============================================================================
   Single source of truth for all cart add operations.
   BEM naming: m-cart-button__{element}--{modifier}
   ============================================================================ */

.m-cart-button {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* ----- Labels ----- */
.m-cart-button__label {
    display: block;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-primary, #1f2937);
    margin-bottom: 6px;
}

/* ----- Size Selector ----- */
.m-cart-button__sizes {
    margin-bottom: 8px;
}

.m-cart-button__size-options {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.m-cart-button__size {
    min-width: 40px;
    height: 36px;
    padding: 0 12px;
    border: 2px solid var(--border-color, #e5e7eb);
    border-radius: 6px;
    background: var(--surface-card, #fff);
    color: var(--text-primary, #1f2937);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.m-cart-button__size:hover:not(.disabled) {
    border-color: var(--action-primary, #7c3aed);
    color: var(--action-primary, #7c3aed);
}

.m-cart-button__size.active {
    background: var(--action-primary, #7c3aed);
    border-color: var(--action-primary, #7c3aed);
    color: var(--text-inverse);
}

.m-cart-button__size.disabled {
    opacity: 0.4;
    cursor: not-allowed;
    text-decoration: line-through;
}

/* ----- Color Selector ----- */
.m-cart-button__colors {
    margin-bottom: 8px;
}

.m-cart-button__color-options {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.m-cart-button__color {
    width: 32px;
    height: 32px;
    border: 2px solid var(--border-color, #e5e7eb);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.m-cart-button__color:hover {
    transform: scale(1.1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.m-cart-button__color.active {
    border-color: var(--action-primary, #7c3aed);
    box-shadow: 0 0 0 2px var(--action-primary, #7c3aed);
}

.m-cart-button__color.active::after {
    content: '\f00c';
    font-family: 'Font Awesome 5 Free';
    font-weight: 900;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--text-inverse);
    font-size: 12px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* ----- Quantity Selector ----- */
.m-cart-button__qty {
    margin-bottom: 8px;
}

.m-cart-button__qty-control {
    display: inline-flex;
    align-items: center;
    border: 1px solid var(--border-color, #e5e7eb);
    border-radius: 8px;
    overflow: hidden;
    background: var(--surface-card, #fff);
}

.m-cart-button__qty-btn {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--surface-secondary, #f3f4f6);
    border: none;
    color: var(--text-primary, #1f2937);
    cursor: pointer;
    transition: all 0.2s ease;
}

.m-cart-button__qty-btn:hover:not(:disabled) {
    background: var(--action-primary, #7c3aed);
    color: var(--text-inverse);
}

.m-cart-button__qty-btn:disabled,
.m-cart-button__qty-btn.disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.m-cart-button__qty-input {
    width: 50px;
    height: 36px;
    text-align: center;
    border: none;
    background: transparent;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary, #1f2937);
}

.m-cart-button__qty-input:focus {
    outline: none;
}

.m-cart-button__min-notice {
    display: block;
    font-size: 11px;
    color: var(--text-muted, #6b7280);
    margin-top: 4px;
}

/* ----- Add to Cart Button ----- */
.m-cart-button__btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
}

.m-cart-button__add {
    background: var(--action-primary, #7c3aed);
    color: var(--text-inverse);
}

.m-cart-button__add:hover {
    background: var(--action-primary-hover, #6d28d9);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

.m-cart-button__add:active {
    transform: translateY(0);
}

.m-cart-button__btn--disabled {
    background: var(--surface-secondary, #f3f4f6);
    color: var(--text-muted, #6b7280);
    cursor: not-allowed;
}

/* ----- Loading State ----- */
.m-cart-button__loading {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px;
    color: var(--action-primary, #7c3aed);
}

/* ----- Compact Mode ----- */
.m-cart-button[data-mode=compact] .m-cart-button__btn {
    padding: 8px 16px;
    font-size: 13px;
}

/* ----- Icon Only Mode ----- */
.m-cart-button[data-mode=icon-only] .m-cart-button__btn {
    width: 40px;
    height: 40px;
    padding: 0;
    border-radius: 50%;
}

/* ----- Inline Layout (for product cards) ----- */
.m-cart-button--inline {
    flex-direction: row;
    align-items: center;
    gap: 8px;
}

.m-cart-button--inline .m-cart-button__qty {
    margin-bottom: 0;
}

.m-cart-button--inline .m-cart-button__btn {
    width: auto;
    flex-shrink: 0;
}

/* ----- Mobile Responsive ----- */
@media (max-width: 575.98px) {
    .m-cart-button__qty-btn {
        width: 32px;
        height: 32px;
    }

    .m-cart-button__qty-input {
        width: 40px;
        height: 32px;
    }

    .m-cart-button__btn {
        padding: 10px 16px;
        font-size: 13px;
    }

    .m-cart-button__size {
        min-width: 36px;
        height: 32px;
        padding: 0 10px;
        font-size: 12px;
    }
}

/* ----- RTL Support ----- */
[dir=rtl] .m-cart-button__btn i {
    margin-left: 8px;
    margin-right: 0;
}

/* ============================================================================
   SECTION: MOBILE HEADER OPTIMIZATION
   ============================================================================
   Topbar is now conditionally rendered via Blade (d-none d-xl-block wrapper)
   in header.blade.php instead of CSS hide. This approach:
   - Reduces HTML payload on mobile (not rendered at all)
   - Cleaner separation of concerns (layout logic in Blade, not CSS)
   - Better performance (no DOM elements to hide)

   See: includes/frontend/topbar.blade.php
   ============================================================================ */

/* ============================================================================
   SECTION: DASHBOARD TOGGLE BUTTONS
   ============================================================================
   Styles for dual toggle buttons on User/Vendor/Rider dashboard pages.
   - Store Menu Toggle: Opens store mobile menu (for shopping)
   - Dashboard Menu Toggle: Opens dashboard sidebar menu
   ============================================================================ */

/* When muaadh-mobile-toggle contains an icon instead of spans */
.muaadh-mobile-toggle i,
.mobile-menu-toggle i {
    font-size: 20px;
    color: var(--muaadh-text, #1F0300);
}

/* Dashboard menu toggle button (legacy menu) */
.mobile-menu-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px;
    background: transparent;
    border: none;
    cursor: pointer;
    min-width: 40px;
    min-height: 40px;
}

.mobile-menu-toggle:hover i,
.muaadh-mobile-toggle:hover i {
    color: var(--action-primary, #7c3aed);
}

/* RTL Support for toggle buttons */
[dir="rtl"] .muaadh-header-left .d-flex.gap-2 {
    flex-direction: row-reverse;
}

/* ============================================================================
   SECTION: UTILITY CLASSES FOR INLINE STYLE REPLACEMENT
   ============================================================================
   These classes replace common inline styles found in admin/vendor views
   Usage: Replace style="..." with appropriate class
   ============================================================================ */

/* Image Upload Area - Replaces: style="width: 100%; height: 285px; border: 1px dashed #ddd; background: #f1f1f1;" */
.m-upload-zone {
    width: 100%;
    height: 285px;
    border: 1px dashed var(--border-default, #ddd);
    background: var(--surface-elevated, #f1f1f1);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md, 8px);
    transition: all 0.3s ease;
}

.m-upload-zone:hover {
    border-color: var(--action-primary);
    background: var(--surface-card, #fff);
}

/* Readonly Field Background - Replaces: style="background: #f5f5f5;" */
.m-input-readonly,
input[readonly],
textarea[readonly] {
    background-color: var(--surface-elevated, #f5f5f5) !important;
    cursor: not-allowed;
}

/* Select Option Text - Replaces: style="color: #333;" */
select option {
    color: var(--text-primary, #333);
}

/* Category/Subcategory Option Styling */
.m-option-category {
    color: var(--text-primary, #333);
    font-weight: 600;
}

.m-option-subcategory {
    color: var(--text-secondary, #555);
    padding-left: 1rem;
}

/* ============================================================================
   SECTION: LEGACY STYLE.CSS OVERRIDES - SCOPED
   ============================================================================
   Scoped under .m-theme-scope to prevent global conflicts.
   Based on actual coverage analysis of blade views (top-used classes):

   Coverage Report (views usage count):
   - .btn-primary: 244  | .text-muted: 157   | .btn-secondary: 152
   - .text-danger: 118  | .btn-danger: 91    | .text-white: 56
   - .bg-white: 45      | .bg-light: 42      | .text-dark: 40
   - .text-primary: 32  | .btn-success: 30   | .alert-danger: 29
   - .text-success: 25  | .bg-success: 21    | .alert-success: 21
   - .alert-info: 18    | .badge-success: 15 | .bg-warning: 13

   Usage: Add .m-theme-scope to <body> or section wrapper
   ============================================================================ */

.m-theme-scope {
    /* ----- BUTTONS (Coverage: 244+152+91+30 = 517 uses) ----- */
    /* Using --text-on-* for WCAG contrast safety */
    & .btn-primary {
        background-color: var(--action-primary) !important;
        border-color: var(--action-primary) !important;
        color: var(--text-on-primary) !important;
    }
    & .btn-primary:hover,
    & .btn-primary:focus {
        background-color: var(--action-primary-hover) !important;
        border-color: var(--action-primary-hover) !important;
    }

    & .btn-secondary {
        background-color: var(--action-secondary) !important;
        border-color: var(--action-secondary) !important;
        color: var(--text-on-secondary) !important;
    }
    & .btn-secondary:hover,
    & .btn-secondary:focus {
        background-color: var(--action-secondary-hover) !important;
        border-color: var(--action-secondary-hover) !important;
    }

    & .btn-success {
        background-color: var(--action-success) !important;
        border-color: var(--action-success) !important;
        color: var(--text-on-success) !important;
    }

    & .btn-danger {
        background-color: var(--action-danger) !important;
        border-color: var(--action-danger) !important;
        color: var(--text-on-danger) !important;
    }

    & .btn-warning {
        background-color: var(--action-warning) !important;
        border-color: var(--action-warning) !important;
        color: var(--text-on-warning) !important;
    }

    & .btn-info {
        background-color: var(--action-info) !important;
        border-color: var(--action-info) !important;
        color: var(--text-on-info) !important;
    }

    /* ----- TEXT UTILITIES (Coverage: 157+118+56+40+32+25 = 428 uses) ----- */
    & .text-primary { color: var(--action-primary) !important; }
    & .text-secondary { color: var(--text-secondary) !important; }
    & .text-success { color: var(--action-success) !important; }
    & .text-danger { color: var(--action-danger) !important; }
    & .text-warning { color: var(--action-warning) !important; }
    & .text-info { color: var(--action-info) !important; }
    & .text-muted { color: var(--text-muted) !important; }
    & .text-dark { color: var(--text-body) !important; }
    & .text-white { color: var(--text-inverse) !important; }

    /* ----- BACKGROUND UTILITIES (Coverage: 45+42+21+13+13+12 = 146 uses) ----- */
    & .bg-primary { background-color: var(--action-primary) !important; }
    & .bg-secondary { background-color: var(--action-secondary) !important; }
    & .bg-success { background-color: var(--action-success) !important; }
    & .bg-danger { background-color: var(--action-danger) !important; }
    & .bg-warning { background-color: var(--action-warning) !important; }
    & .bg-info { background-color: var(--action-info) !important; }
    & .bg-light { background-color: var(--surface-elevated) !important; }
    & .bg-white { background-color: var(--surface-card) !important; }

    /* ----- ALERTS (Coverage: 29+21+18 = 68 uses) ----- */
    & .alert-success {
        background-color: var(--action-success-light) !important;
        border-color: var(--action-success) !important;
        color: var(--action-success) !important;
    }
    & .alert-danger {
        background-color: var(--action-danger-light) !important;
        border-color: var(--action-danger) !important;
        color: var(--action-danger) !important;
    }
    & .alert-warning {
        background-color: var(--action-warning-light) !important;
        border-color: var(--action-warning) !important;
        color: var(--action-warning) !important;
    }
    & .alert-info {
        background-color: var(--action-info-light) !important;
        border-color: var(--action-info) !important;
        color: var(--action-info) !important;
    }
    & .alert-primary {
        background-color: var(--action-primary-light) !important;
        border-color: var(--action-primary) !important;
        color: var(--action-primary) !important;
    }

    /* ----- BADGES (Coverage: 15 uses) ----- */
    /* Using --text-on-* for WCAG contrast safety */
    & .badge-primary, & .badge.bg-primary {
        background-color: var(--action-primary) !important;
        color: var(--text-on-primary) !important;
    }
    & .badge-success, & .badge.bg-success {
        background-color: var(--action-success) !important;
        color: var(--text-on-success) !important;
    }
    & .badge-danger, & .badge.bg-danger {
        background-color: var(--action-danger) !important;
        color: var(--text-on-danger) !important;
    }
    & .badge-warning, & .badge.bg-warning {
        background-color: var(--action-warning) !important;
        color: var(--text-on-warning) !important;
    }
    & .badge-info, & .badge.bg-info {
        background-color: var(--action-info) !important;
        color: var(--text-on-info) !important;
    }
    & .badge-secondary, & .badge.bg-secondary {
        background-color: var(--action-secondary) !important;
        color: var(--text-on-secondary) !important;
    }
    & .badge-dark, & .badge.bg-dark {
        background-color: var(--surface-inverse) !important;
        color: var(--text-on-dark) !important;
    }
    & .badge-light, & .badge.bg-light {
        background-color: var(--surface-elevated) !important;
        color: var(--text-on-light) !important;
    }

    /* ----- OUTLINE BUTTONS ----- */
    /* On hover/active, background fills with color so text needs --text-on-* */
    & .btn-outline-primary {
        color: var(--action-primary) !important;
        border-color: var(--action-primary) !important;
        background-color: transparent !important;
    }
    & .btn-outline-primary:hover,
    & .btn-outline-primary:focus,
    & .btn-outline-primary:active,
    & .btn-outline-primary.active {
        background-color: var(--action-primary) !important;
        border-color: var(--action-primary) !important;
        color: var(--text-on-primary) !important;
    }

    & .btn-outline-secondary {
        color: var(--action-secondary) !important;
        border-color: var(--action-secondary) !important;
        background-color: transparent !important;
    }
    & .btn-outline-secondary:hover,
    & .btn-outline-secondary:focus,
    & .btn-outline-secondary:active {
        background-color: var(--action-secondary) !important;
        border-color: var(--action-secondary) !important;
        color: var(--text-on-secondary) !important;
    }

    & .btn-outline-success {
        color: var(--action-success) !important;
        border-color: var(--action-success) !important;
        background-color: transparent !important;
    }
    & .btn-outline-success:hover,
    & .btn-outline-success:focus,
    & .btn-outline-success:active {
        background-color: var(--action-success) !important;
        border-color: var(--action-success) !important;
        color: var(--text-on-success) !important;
    }

    & .btn-outline-danger {
        color: var(--action-danger) !important;
        border-color: var(--action-danger) !important;
        background-color: transparent !important;
    }
    & .btn-outline-danger:hover,
    & .btn-outline-danger:focus,
    & .btn-outline-danger:active {
        background-color: var(--action-danger) !important;
        border-color: var(--action-danger) !important;
        color: var(--text-on-danger) !important;
    }

    & .btn-outline-warning {
        color: var(--action-warning) !important;
        border-color: var(--action-warning) !important;
        background-color: transparent !important;
    }
    & .btn-outline-warning:hover,
    & .btn-outline-warning:focus,
    & .btn-outline-warning:active {
        background-color: var(--action-warning) !important;
        border-color: var(--action-warning) !important;
        color: var(--text-on-warning) !important;
    }

    & .btn-outline-info {
        color: var(--action-info) !important;
        border-color: var(--action-info) !important;
        background-color: transparent !important;
    }
    & .btn-outline-info:hover,
    & .btn-outline-info:focus,
    & .btn-outline-info:active {
        background-color: var(--action-info) !important;
        border-color: var(--action-info) !important;
        color: var(--text-on-info) !important;
    }

    /* ----- DISABLED BUTTON STATES ----- */
    & .btn:disabled,
    & .btn.disabled,
    & .btn[disabled] {
        opacity: 0.65 !important;
        pointer-events: none !important;
    }

    & .btn-primary:disabled,
    & .btn-primary.disabled {
        background-color: var(--action-primary) !important;
        border-color: var(--action-primary) !important;
        color: var(--text-on-primary) !important;
    }

    & .btn-success:disabled,
    & .btn-success.disabled {
        background-color: var(--action-success) !important;
        border-color: var(--action-success) !important;
        color: var(--text-on-success) !important;
    }

    & .btn-danger:disabled,
    & .btn-danger.disabled {
        background-color: var(--action-danger) !important;
        border-color: var(--action-danger) !important;
        color: var(--text-on-danger) !important;
    }

    & .btn-warning:disabled,
    & .btn-warning.disabled {
        background-color: var(--action-warning) !important;
        border-color: var(--action-warning) !important;
        color: var(--text-on-warning) !important;
    }

    /* ----- ALERT LINK COLORS ----- */
    /* Links inside alerts should use the alert's action color */
    & .alert-success a:not(.btn) {
        color: var(--action-success) !important;
        text-decoration: underline !important;
    }
    & .alert-success a:not(.btn):hover {
        color: var(--action-success-hover) !important;
    }

    & .alert-danger a:not(.btn) {
        color: var(--action-danger) !important;
        text-decoration: underline !important;
    }
    & .alert-danger a:not(.btn):hover {
        color: var(--action-danger-hover) !important;
    }

    & .alert-warning a:not(.btn) {
        color: var(--action-warning) !important;
        text-decoration: underline !important;
    }
    & .alert-warning a:not(.btn):hover {
        color: var(--action-warning-hover) !important;
    }

    & .alert-info a:not(.btn) {
        color: var(--action-info) !important;
        text-decoration: underline !important;
    }
    & .alert-info a:not(.btn):hover {
        color: var(--action-info-hover) !important;
    }

    & .alert-primary a:not(.btn) {
        color: var(--action-primary) !important;
        text-decoration: underline !important;
    }
    & .alert-primary a:not(.btn):hover {
        color: var(--action-primary-hover) !important;
    }

    /* ----- TEXT OVER BACKGROUND COMBINATIONS ----- */
    /* When text-* is used over bg-*, ensure WCAG contrast */
    & .bg-primary .text-white,
    & .bg-primary { color: var(--text-on-primary) !important; }

    & .bg-success .text-white,
    & .bg-success { color: var(--text-on-success) !important; }

    & .bg-danger .text-white,
    & .bg-danger { color: var(--text-on-danger) !important; }

    & .bg-warning .text-white,
    & .bg-warning .text-dark,
    & .bg-warning { color: var(--text-on-warning) !important; }

    & .bg-info .text-white,
    & .bg-info { color: var(--text-on-info) !important; }

    & .bg-dark .text-white,
    & .bg-dark { color: var(--text-on-dark) !important; }

    & .bg-light .text-dark,
    & .bg-light { color: var(--text-on-light) !important; }

    /* ----- BORDERS ----- */
    & .border-primary { border-color: var(--action-primary) !important; }
    & .border-success { border-color: var(--action-success) !important; }
    & .border-danger { border-color: var(--action-danger) !important; }
    & .border-warning { border-color: var(--action-warning) !important; }

    /* ----- FORMS ----- */
    & .form-control:focus,
    & .form-select:focus {
        border-color: var(--border-focus) !important;
        box-shadow: var(--focus-ring) !important;
    }

    /* ----- CARDS ----- */
    & .card {
        border-color: var(--border-default);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-sm);
    }
    & .card-header {
        background-color: var(--surface-elevated);
        border-bottom-color: var(--border-default);
    }

    /* ----- TABLES ----- */
    & .table thead th {
        background-color: var(--surface-elevated);
        border-color: var(--border-default);
    }
    & .table-striped tbody tr:nth-of-type(odd) {
        background-color: var(--surface-sunken);
    }

    /* ----- LINKS ----- */
    & a:not(.btn):not(.nav-link):not(.dropdown-item) {
        color: var(--text-link);
    }
    & a:not(.btn):not(.nav-link):not(.dropdown-item):hover {
        color: var(--text-link-hover);
    }

    /* ===================================================================
       WCAG CONTRAST FIXES
       Overrides for elements that need improved contrast ratios
       =================================================================== */

    /* ----- MUTED TEXT ON GRAY BACKGROUNDS ----- */
    /* .text-muted (#6b7280) on gray (#f3f4f6) = 4.39 ratio (needs 4.5) */
    /* Use --text-muted-safe (--text-secondary) for better contrast */
    & .bg-light .text-muted,
    & .bg-gray .text-muted,
    & [class*="muaadh-section-gray"] .text-muted {
        color: var(--text-muted-safe) !important;
    }

    /* ----- BUTTONS WITH COLORED BACKGROUNDS ----- */
    /* Ensure all buttons use proper text-on-* colors */
    & .btn-primary,
    & .m-btn--primary,
    & .template-btn {
        color: var(--text-on-primary) !important;
    }
    & .btn-success,
    & .m-btn--success {
        color: var(--text-on-success) !important;
    }
    & .btn-danger,
    & .m-btn--danger {
        color: var(--text-on-danger) !important;
    }
    & .btn-warning,
    & .m-btn--warning {
        color: var(--text-on-warning) !important;
    }
    & .btn-info,
    & .m-btn--info {
        color: var(--text-on-info) !important;
    }
    & .btn-dark,
    & .m-btn--dark {
        color: var(--text-on-dark) !important;
    }

    /* ----- FOOTER TEXT CONTRAST ----- */
    /* Footer has dark background, text should be light */
    & .muaadh-footer .text-muted,
    & .muaadh-footer p,
    & .gs-footer-area .text-muted,
    & .gs-footer-area p,
    & footer .text-muted,
    & footer p {
        color: var(--text-inverse) !important;
        opacity: 0.85;
    }
    & .muaadh-footer-desc,
    & .muaadh-footer-newsletter-text {
        color: var(--text-inverse) !important;
        opacity: 0.7;
    }

    /* ----- BREADCRUMB TEXT ON IMAGE ----- */
    /* Breadcrumb has background-image, ensure text is visible */
    & .gs-breadcrumb-section h1,
    & .gs-breadcrumb-section h2,
    & .gs-breadcrumb-section h3,
    & .gs-breadcrumb-section h4,
    & .gs-breadcrumb-section .breadcrumb-title,
    & .breadcrumb-section h1,
    & .breadcrumb-section h2,
    & .breadcrumb-section h3,
    & .breadcrumb-section h4,
    & .breadcrumb-section .breadcrumb-title {
        color: var(--text-inverse) !important;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    }
    & .gs-breadcrumb-section .bread-menu li,
    & .gs-breadcrumb-section .bread-menu a,
    & .breadcrumb-section .bread-menu li,
    & .breadcrumb-section .bread-menu a {
        color: var(--text-inverse) !important;
        opacity: 0.9;
    }
}

/* ============================================================================
   SECTION: VENDOR PRODUCTS BOX
   ============================================================================
   Scrollable container for vendor products with fixed height
   ============================================================================ */

.vendor-products-box {
    display: flex;
    flex-direction: column;
    background: var(--surface-card);
    border-radius: 8px;
    box-shadow: var(--shadow-sm, 0 2px 8px rgba(0, 0, 0, 0.08));
    overflow: hidden;
}

.vendor-products-scroll {
    height: 600px;
    overflow-y: auto;
    padding: 1rem;
    scrollbar-width: thin;
    scrollbar-color: var(--action-primary) var(--surface-secondary);
    transition: opacity 0.2s ease;
}

.vendor-products-scroll.is-loading {
    opacity: 0.5;
    pointer-events: none;
}

/* Webkit scrollbar styling */
.vendor-products-scroll::-webkit-scrollbar {
    width: 8px;
}

.vendor-products-scroll::-webkit-scrollbar-track {
    background: var(--surface-secondary);
    border-radius: 4px;
}

.vendor-products-scroll::-webkit-scrollbar-thumb {
    background: var(--action-primary);
    border-radius: 4px;
}

.vendor-products-scroll::-webkit-scrollbar-thumb:hover {
    background: var(--action-primary-hover);
}

.vendor-products-pagination {
    padding: 0.75rem 1rem;
    border-top: 1px solid var(--border-light);
    background: var(--surface-card);
}

/* Simple Pagination - Prev/Next with Counter */
.m-pagination-simple {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
}

.m-pagination-simple__btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--action-primary);
    color: var(--text-on-primary);
    text-decoration: none;
    transition: all 0.2s ease;
    border: none;
    cursor: pointer;
}

.m-pagination-simple__btn:hover {
    background: var(--action-primary-hover);
    color: var(--text-on-primary);
    transform: scale(1.05);
}

.m-pagination-simple__btn--disabled {
    background: var(--surface-secondary);
    color: var(--text-muted);
    cursor: not-allowed;
    opacity: 0.5;
}

.m-pagination-simple__btn--disabled:hover {
    transform: none;
    background: var(--surface-secondary);
}

.m-pagination-simple__input-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.m-pagination-simple__input {
    width: 50px;
    height: 36px;
    padding: 0 0.5rem;
    border: 1px solid var(--border-light);
    border-radius: 6px;
    background: var(--surface-card);
    color: var(--text-primary);
    font-size: 0.9rem;
    font-weight: 600;
    text-align: center;
    transition: all 0.2s ease;
    -moz-appearance: textfield;
}

.m-pagination-simple__input::-webkit-outer-spin-button,
.m-pagination-simple__input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.m-pagination-simple__input:focus {
    outline: none;
    border-color: var(--action-primary);
    box-shadow: 0 0 0 3px var(--action-primary-light);
}

.m-pagination-simple__separator {
    font-size: 0.85rem;
    color: var(--text-muted);
}

.m-pagination-simple__total {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
}

/* Responsive heights */
@media (max-width: 991.98px) {
    .vendor-products-scroll {
        height: 400px;
    }
}

@media (max-width: 575.98px) {
    .vendor-products-scroll {
        height: 450px;
        padding: 0.75rem;
    }

    .vendor-products-pagination {
        padding: 0.5rem;
    }

    .m-pagination-simple {
        gap: 0.5rem;
    }

    .m-pagination-simple__btn {
        width: 32px;
        height: 32px;
    }

    .m-pagination-simple__input {
        width: 45px;
        height: 32px;
        font-size: 0.8rem;
    }

    .m-pagination-simple__separator,
    .m-pagination-simple__total {
        font-size: 0.8rem;
    }

    .m-pagination-simple__input-group {
        gap: 0.35rem;
    }
}

/* ============================================================================
   SECTION: CATEGORY PRODUCTS BOX
   ============================================================================
   Scrollable container for category products with fixed height
   ============================================================================ */

.category-products-box {
    display: flex;
    flex-direction: column;
    background: var(--surface-card);
    border-radius: 8px;
    box-shadow: var(--shadow-sm, 0 2px 8px rgba(0, 0, 0, 0.08));
    overflow: hidden;
}

.category-products-scroll {
    height: 600px;
    overflow-y: auto;
    padding: 1rem;
    scrollbar-width: thin;
    scrollbar-color: var(--action-primary) var(--surface-secondary);
    transition: opacity 0.2s ease;
}

.category-products-scroll.is-loading {
    opacity: 0.5;
    pointer-events: none;
}

/* Webkit scrollbar styling */
.category-products-scroll::-webkit-scrollbar {
    width: 8px;
}

.category-products-scroll::-webkit-scrollbar-track {
    background: var(--surface-secondary);
    border-radius: 4px;
}

.category-products-scroll::-webkit-scrollbar-thumb {
    background: var(--action-primary);
    border-radius: 4px;
}

.category-products-scroll::-webkit-scrollbar-thumb:hover {
    background: var(--action-primary-hover);
}

.category-products-pagination {
    padding: 0.75rem 1rem;
    border-top: 1px solid var(--border-light);
    background: var(--surface-card);
}

/* Responsive heights for category */
@media (max-width: 991.98px) {
    .category-products-scroll {
        height: 500px;
    }
}

@media (max-width: 575.98px) {
    .category-products-scroll {
        height: 450px;
        padding: 0.75rem;
    }

    .category-products-pagination {
        padding: 0.5rem;
    }
}

