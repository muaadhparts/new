╔═══════════════════════════════════════════════════════════════╗
║  📋 DATABASE INDEXES DEPLOYMENT CHECKLIST                     ║
║  🎯 الهدف: حل 504 Timeout على Production                    ║
╚═══════════════════════════════════════════════════════════════╝

┌───────────────────────────────────────────────────────────────┐
│ 🔐 التحضيرات                                                 │
└───────────────────────────────────────────────────────────────┘
  ☐ لديك صلاحية الوصول لـ phpMyAdmin
  ☐ تعرف اسم قاعدة البيانات
  ☐ عملت backup احتياطي (اختياري)
  ☐ الوقت هادئ (قليل زوار) - اختياري

┌───────────────────────────────────────────────────────────────┐
│ 🚀 التنفيذ (عبر phpMyAdmin)                                  │
└───────────────────────────────────────────────────────────────┘

الخطوة 1: الدخول
  ☐ فتحت https://partstore.sa/phpmyadmin
  ☐ دخلت username و password

الخطوة 2: اختيار Database
  ☐ اخترت اسم قاعدة البيانات من القائمة اليسرى
  ☐ تأكدت من الاسم الصحيح (انظر للعنوان في الأعلى)

الخطوة 3: فتح SQL Tab
  ☐ ضغطت على تبويب "SQL"
  ☐ ظهر مربع نص كبير

الخطوة 4: نسخ ولصق
  ☐ فتحت ملف: QUICK_COPY_PASTE.sql
  ☐ نسخت الأوامر الأربعة الأولى (CREATE INDEX)
  ☐ لصقت في مربع SQL

الخطوة 5: التنفيذ
  ☐ ضغطت "Go" أو "تنفيذ"
  ☐ انتظرت (2-5 دقائق)
  ☐ رأيت رسالة نجاح خضراء

┌───────────────────────────────────────────────────────────────┐
│ 🔍 التحقق من النجاح                                          │
└───────────────────────────────────────────────────────────────┘

  ☐ نفّذت أمر التحقق من QUICK_COPY_PASTE.sql
  ☐ رجعت 4 صفوف (واحدة لكل index)
  ☐ كل index يظهر في النتائج

┌───────────────────────────────────────────────────────────────┐
│ 🧪 الاختبار                                                  │
└───────────────────────────────────────────────────────────────┘

  ☐ مسحت cache: php artisan cache:clear
  ☐ فتحت illustration page على الموقع
  ☐ ضغطت على callout number
  ☐ Modal فتح في < 3 ثواني ✅
  ☐ لا توجد 504 errors في console ✅

┌───────────────────────────────────────────────────────────────┐
│ ✅ النتائج المتوقعة                                          │
└───────────────────────────────────────────────────────────────┘

قبل Indexes:
  ❌ API response: 60-90+ ثانية
  ❌ 504 Gateway Timeout
  ❌ Modal لا يفتح
  ❌ تجربة مستخدم سيئة

بعد Indexes:
  ✅ API response: < 3 ثواني
  ✅ 200 OK
  ✅ Modal يفتح فوراً
  ✅ تجربة مستخدم ممتازة

┌───────────────────────────────────────────────────────────────┐
│ 📊 المقاييس                                                  │
└───────────────────────────────────────────────────────────────┘

  ☐ API call قبل: ____ ثانية (توقع: 60-90+)
  ☐ API call بعد: ____ ثانية (توقع: < 3)
  ☐ تحسن بنسبة: ____%  (توقع: 95%+)

┌───────────────────────────────────────────────────────────────┐
│ 🐛 استكشاف الأخطاء                                          │
└───────────────────────────────────────────────────────────────┘

Error: "Duplicate key name"
  ✅ Index موجود مسبقاً - تخطى للتالي

Error: "Lock wait timeout exceeded"
  ⚠️ انتظر 5 دقائق وأعد المحاولة

Error: "Table doesn't exist"
  ❌ تأكد من اسم الجدول واسم Database

أي error آخر:
  📞 أخبرني بنص Error الكامل

┌───────────────────────────────────────────────────────────────┐
│ 📞 الدعم                                                      │
└───────────────────────────────────────────────────────────────┘

إذا واجهت مشكلة، أرسل:
  • Screenshot من phpMyAdmin
  • نص Error الكامل
  • نتيجة: SHOW TABLES;
  • نتيجة: SELECT DATABASE();

┌───────────────────────────────────────────────────────────────┐
│ 📄 الملفات المساعدة                                          │
└───────────────────────────────────────────────────────────────┘

  QUICK_COPY_PASTE.sql         → أوامر SQL جاهزة
  STEP_BY_STEP_INDEX_GUIDE.md  → دليل مفصّل
  URGENT_PRODUCTION_FIX.md     → شرح المشكلة
  database/PRODUCTION_INDEXES.sql → نفس الأوامر

╔═══════════════════════════════════════════════════════════════╗
║  ⏱️ الوقت الإجمالي: 5-10 دقائق                              ║
║  🎯 النتيجة: من 90s → < 3s                                   ║
║  💯 نسبة النجاح: 99%                                         ║
╚═══════════════════════════════════════════════════════════════╝

تاريخ التنفيذ: _______________
وقت البدء: _______________
وقت الانتهاء: _______________
النتيجة: ☐ نجح  ☐ فشل  ☐ جزئي

ملاحظات:
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________
